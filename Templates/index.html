<!DOCTYPE html>
<html>
<head>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>LDCS - OFChecker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        body {
            background-color: #f2f2f2; /* Couleur de fond */
            font-family: Arial, sans-serif;
        }

        h1 {
            background-color: #de1f1f; /* Couleur de fond pour le titre */
            color: white; /* Texte en blanc */
            padding: 20px;
            margin: 0;
        }

        form {
            margin-top: 20px;
            text-align: center;
        }

        input[type="file"] {
            background-color: #de1f1f; /* Fond de l'élément de fichier en rouge */
            color: white; /* Texte en blanc */
            padding: 10px;
            border: none;
            border-radius: 5px;
        }

        input[type="file"]:hover {
            background-color: darkred; /* Changement de couleur en survol */
        }

        input[type="submit"] {
            background-color: #de1f1f; /* Bouton en rouge */
            color: white; /* Texte en blanc */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        input[type="submit"]:hover {
            background-color: darkred; /* Changement de couleur en survol */
        }

        .container {
            margin: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        p {
            margin: 10px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid #dddddd;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #c20000;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f7b2b2;
        }

        .export-button {
            background-color: #de1f1f; /* Bouton en rouge */
            color: white; /* Texte en blanc */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            position: absolute;
            font-size: 16px;
            


        }  
        .export-button:hover {
            background-color: darkred;
            } 

        #logo {
            position: absolute;
            top: 20px; /* Adjust the top position as needed */
            right: 20px; /* Adjust the left position as needed */
            width: 100px; /* Adjust the image width as needed */
        }
/* Style pour le bouton de réinitialisation */
        .reset-button {
            background-color: #de1f1f; /* Bouton en rouge */
            color: white; /* Texte en blanc */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            font-size: 16px;
    }
        .reset-button:hover {
                background-color: darkred;
            }
                
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
        }

        #confirm-reset-button {
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
        }

        #confirm-reset-button:hover {
            background-color: darkred;
        }
        #openPopupButton {
            background-color: #de1f1f; /* Bouton en rouge */
            color: white; /* Texte en blanc */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            position: relative;          
            font-size: 16px;
            
            
            
        }

        #openPopupButton:hover {
            background-color: darkred;
        }

        /* Style pour la pop-up */
        /* Styles for the popup container */
        .popup {
            display: none; /* Par défaut, la popup est masquée */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 20px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            max-width: 400px;
            width: 90%;
        }

        /* Styles for the popup heading */
        .popup h2 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        /* Styles for the select input */
        #patternSelect {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        /* Styles for the text input */
        #newPattern {
            width: 95%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        /* Styles for the range input */
        #toleranceRange {
            width: 100%;
            margin-bottom: 10px;
        }

        /* Styles for the tolerance value display */
        #toleranceValue {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Styles for the save button */
        #saveSettingsButton {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #de1f1f;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        /* Hover effect for the save button */
        #saveSettingsButton:hover {
            background-color: darkred;
        }


        /* Style pour le fond flou lorsque la popup est active */
        body.popup-active {
            overflow: hidden;
            filter: blur(4px);
        }

        .sidebar, .compte {
            top: 100px;
            transform: translateY(-50%);  
            width: 250px;
            background-color: white;
            padding: 20px;
            font-size: 14px;
            border-style: double;
            border-radius: 6px;
            border-color: #de1f1f; /* Taille de police plus petite */

        }
        .sidebar {
            position: relative;
            object-position: right;
            right: 0; /* Changer la valeur à 0 pour aligner à droite */
            /* ... Autres styles ... */
        }

        .compte {
            top: -50px;
            position: relative;
            right: -1515px;
            object-position: left; /* Changer la valeur à -1525px pour aligner à gauche */
            /* ... Autres styles ... */
        }
        .tooltip {
            position: relative;
            object-position: right;
            top: -45px;
            right: -135px;
            display: inline-block;
            cursor: pointer;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 120%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Style de la boîte de confirmation */
        .confirmation-message {
            display: none; /* Par défaut, la boîte est cachée */
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50; /* Couleur de fond verte */
            color: white; /* Couleur du texte en blanc */
            padding: 10px 20px; /* Espacement du texte */
            border-radius: 5px; /* Coins arrondis */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); /* Ombre légère */
            z-index: 999; /* Assure que la boîte est au-dessus de tout le contenu */
            text-align: center;
            animation-name: fadeIn;
            animation-duration: 1s;
            animation-fill-mode: forwards; /* Centrer le texte */
        }

        /* Animation d'entrée (facultatif) */
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }

        .fade-out {
            animation-name: fadeOut;
            animation-duration: 1s;
            animation-fill-mode: forwards;
        }

        #openPopupButton, .export-button, .reset-button {
          position: relative;
          object-position: top;
          transform: translate(0, -50%);
          margin-right: 10px; /* Exemple de style pour espacer les boutons */
          display: inline-block;
        }
    

    </style>
</head>
<body>
    <h1>LDCS - OpenFields Checker</h1>
    <img id="logo" src="data:image/png;base64,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">



    <div class="container">
        <form action="/process_csv" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv">
            <input type="submit" value="Analyze CSV">
        </form>
                <a href="/export_results" class="export-button">Export Results</a>
        <a href="javascript:void(0);" class="reset-button" onclick="openConfirmationModal();">Reset Tool</a>
        <button id="openPopupButton">Settings</button>

            <div class="sidebar">

        <h3>Current Settings</h3>
        <span class="tooltip">
            <i class="fas fa-question-circle"></i>
            <span class="tooltiptext">The Pattern is what you compare the Open Field to<br><br>The tolerance is the accuracy of the comparaison to count the valid and invalid fields</span>
        </span>
        <p><strong>Current Pattern : </strong> <span id="currentPattern"> {{ example_pattern }}</span></p>
        <p><strong>Current Tolerance : </strong> <span id="currentTolerance">{{ tolerance }} </span></p>
        <script>
            $(document).ready(function() {
                // Fonction pour mettre à jour la valeur de la tolérance
                function updateTolerance() {
                    $.get('/get_tolerance', function(data) {
                        $('#currentTolerance').text(data);
                    });
                }

                // Fonction pour mettre à jour la valeur du pattern
                function updatePattern() {
                    $.get('/get_pattern', function(data) {
                        $('#currentPattern').text(data);
                    });
                }

                // Mettre à jour les valeurs au chargement de la page
                updateTolerance();
                updatePattern();

                // Mettre à jour les valeurs périodiquement
                setInterval(updateTolerance, 1000);  // Met à jour la tolérance toutes les 5 secondes
                setInterval(updatePattern, 1000);    // Met à jour le pattern toutes les 5 secondes
            });
        </script>
    </div>
        <div class="compte">
            <h3>Overall Statistic on File : </h3>
            <p><strong>Valid Count:</strong> {{ valid_count }}</p>
            <p><strong>Invalid Count:</strong> {{ invalid_count }}</p>
            <p><strong>Elements Tested:</strong> {{ elements_tested }}</p>
            <p><strong>Last Element Tested:</strong> {{ last_element }}</p>
            <p><strong>Last Score:</strong> {{ last_score }}</p>
            <p><strong>Average Score:</strong> {{ average_score }}</p>
        </div>
        
        
        

    <!-- Pop-up pour modifier le pattern et la tolérance -->
    <div id="popup" class="popup">
        <h2>🛠️ SETTINGS 🛠️</h2>
        <select id="patternSelect" name="pattern">
            <option value="default">Select a pattern</option>
            {% for pattern in all_patterns %}
                <option value="{{ pattern }}">{{ pattern }}</option>
            {% endfor %}
        </select>
        <input type="text" id="newPattern" name="new_pattern" placeholder="New Pattern..">
        <input type="range" id="toleranceRange" name="tolerance" min="0" max="1" step="0.01" value="{{ tolerance }}">
        <p><strong>Tolerance :</strong>
        <span id="toleranceValue">{{ tolerance }}</span>
        <br>
        <br>
        <button id="saveSettingsButton" type="button">Save Settings</button>
        <a href="https://github.com/Nickyyrl/LDCS---OFChecker" target="_blank" id="support">Support on GitHub 🖳</a>
        
        <script type="text/javascript">
            // JavaScript pour gérer la pop-up
            var popup = document.getElementById("popup");
            var openPopupButton = document.getElementById("openPopupButton");
            var patternSelect = document.getElementById("patternSelect");
            var newPattern = document.getElementById("newPattern");
            var toleranceRange = document.getElementById("toleranceRange");
            var toleranceValue = document.getElementById("toleranceValue");
            var saveSettingsButton = document.getElementById("saveSettingsButton");

            openPopupButton.onclick = function() {
                popup.style.display = "block";
            }

            saveSettingsButton.onclick = function() {
                // Récupérer les valeurs de la pop-up
                var selectedPattern = patternSelect.value;
                var newPatternValue = newPattern.value;
                var toleranceValue = toleranceRange.value;


                // Envoyer les valeurs au serveur (vous devez ajouter cette partie côté serveur)
                    $.post('/save_settings', {
                        selectedPattern: selectedPattern,
                        newPatternValue: newPatternValue,
                        toleranceValue: toleranceValue
                    }, function(data) {
                        // Optionnel : Gérer la réponse du serveur (par exemple, afficher un message de confirmation)
                        var confirmationMessage = document.getElementById('confirmationMessage');
                            confirmationMessage.style.display = 'block';

                            // Masquer la pop-up après un court délai (par exemple, 2 secondes)
                            setTimeout(function() {
                                confirmationMessage.style.display = 'none';
                                popup.style.display = 'none';
                            }, 2000); // 2000 millisecondes (2 secondes)

                                        });
                                    // Masquer la pop-up
                                    popup.style.display = "none";
                                }

                                // Mettre à jour la valeur de tolérance en temps réel
                                toleranceRange.oninput = function() {
                                    toleranceValue.innerHTML = toleranceRange.value;
                                }

        </script>
    </div>


        <div id="confirmation-modal" class="modal">
            <div class="modal-content">
                <p>Do you Really want to reset ? Unsaved data will be loss.</p>
                <button id="confirm-reset-button">Confirm</button>
            </div>
        </div>
        <br>
        <table>
            <tr>
                <th>Element</th>
                <th>Score</th>
            </tr>
            {% for item in all_elements %}
                <tr>
                    <td>{{ item.element }}</td>
                    <td>{{ item.score }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
    <div id="confirmationMessage" class="confirmation-message">
            Settings saved successfully!
        </div>
</body>
<script>
    
function openConfirmationModal() {
    var modal = document.getElementById('confirmation-modal');
    modal.style.display = 'block';

    // Gérer la réinitialisation si l'utilisateur clique sur le bouton "Confirmer"
    var confirmButton = document.getElementById('confirm-reset-button');
    confirmButton.onclick = function() {
        // Réinitialisez ici les compteurs ou effectuez d'autres actions de réinitialisation
        window.location.href = "/reset_tool";
    }
}

function closeConfirmationModal() {
    var modal = document.getElementById('confirmation-modal');
    modal.style.display = 'none';
}
</script>
</html>
